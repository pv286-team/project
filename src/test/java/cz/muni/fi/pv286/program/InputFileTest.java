package cz.muni.fi.pv286.program;

import cz.muni.fi.pv286.TestUtils;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.io.TempDir;

import java.io.ByteArrayOutputStream;
import java.nio.file.Path;
import java.nio.file.Paths;

import static cz.muni.fi.pv286.Main.main;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertFalse;

public class InputFileTest {
    @TempDir
    private static Path PROJECT_ROOT = Paths.get(System.getProperty("project.basedir", "")).toAbsolutePath();
    private static final Path TEST_RESOURCES = PROJECT_ROOT.resolve(Path.of("src", "test", "resources"));

    @Test
    void emptyInputFile_short() {
        Path inputFilePath = TEST_RESOURCES.resolve("empty.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "bytes", "-i", inputFilePath.toString()};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals("", out.toString());
    }

    @Test
    void emptyInputFile_long() {
        Path inputFilePath = TEST_RESOURCES.resolve("empty.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "bytes", "--input=" + inputFilePath};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals("", out.toString());
    }

    @Test
    void textInputFile() {
        Path inputFilePath = TEST_RESOURCES.resolve("textFile.txt");
        String content = TestUtils.readFile(inputFilePath.toString());
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "bytes", "--input=" + inputFilePath};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals(content, out.toString());
    }

    @Test
    void byteInputFile_noDelimiter() {
        Path inputFilePath = TEST_RESOURCES.resolve("byteFile.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "hex", "--input=" + inputFilePath};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals("010256610a616801", out.toString());
    }

    @Test
    void intInputFile_noDelimiter() {
        Path inputFilePath = TEST_RESOURCES.resolve("intFile.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "int", "-t", "hex", "--input=" + inputFilePath, "--from-options=little"};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals("d2029649\n", out.toString());
    }

    @Test
    void bitsInputFile_noDelimiter_rightPadding() {
        Path inputFilePath = TEST_RESOURCES.resolve("bitsFile.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bits", "-t", "hex", "--input=" + inputFilePath, "--from-options=right"};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals("592f4a40\n68\n\nc0\n\n", out.toString());
    }

    @Test
    void bitsInputFile_noDelimiter_leftPadding() {
        Path inputFilePath = TEST_RESOURCES.resolve("bitsFile.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bits", "-t", "hex", "--input=" + inputFilePath, "--from-options=left"};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals("0164bd29\n0d\n\n03\n\n", out.toString());
    }

    @Test
    void loremIpsumFile_toBytes() {
        Path inputFilePath = TEST_RESOURCES.resolve("loremIpsum.txt");
        String content = TestUtils.readFile(inputFilePath.toString());
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "bytes", "--input=" + inputFilePath};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }

        assertEquals(content, out.toString());
    }

    @Test
    void loremIpsumFile_toHex() {
        Path inputFilePath = TEST_RESOURCES.resolve("loremIpsum.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "hex", "--input=" + inputFilePath};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }
        String expected = "4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e7365637465747565722061646970697363696e6720656c69742e20496e746567657220696e20730a617069656e2e20416c697175616d20616e74652e204e656d6f20656e696d20697073616d20766f6c7570746174656d207175696120766f6c7570746173207369742061737065726e617475720a20617574206f640a206974206175742066756769742c20736564207175696120636f6e73657175756e747572206d61676e6920646f6c6f72657320656f732071756920726174696f6e6520766f6c7570746174656d207365717569206e65736369756e742e20566976616d7573206163206c656f2070726574690a756d2066617563696275732e2050726f696e20696e2074656c6c75732073697420616d6574206e696268206469676e697373696d2073616769747469732e2050686173656c6c757320656e696d20657261742c20766573746962756c756d2076656c2c20616c697175616d20612c20706f73756572652065752c2076650a0a6c69742e2043757261626974757220626962656e64756d206a7573746f206e6f6e206f7263692e20416c697175616d20696420646f6c6f722e20496e2073656d206a7573746f2c20636f6d6d6f646f2075742c2073757363697069740a2061742c2070686172657472612076697461652c206f7263692e20467573636520647569206c656f2c20696d7065726469657420696e2c20616c697175616d2073697420616d65742c20666575676961742065752c206f7263692e20447569730a20636f6e64696d656e74756d206175677565206964206d61676e612073656d7065722072757472756d2e204e756e632074696e636964756e7420616e7465207669746165206d617373612e0a20204675736365206e6962682e20566976616d7573206163206c656f207072657469756d2066617563696275732e20446f6e656320766974616520617263752e0a0a496e2064617069627573206175677565206e6f6e2073617069656e2e20496e7465676572206c6163696e69612e2055742074656d707573207075727573206174206c6f72656d2e204e756c6c616d2073617069656e2073656d2c206f726e6172652061632c206e6f6e756d6d79206e6f6e2c206c0a6f626f72746973206120656e696d2e204475697320636f6e64696d656e74756d206175677565206964206d61676e612073656d7065722072757472756d2e2041656e65616e2069640a6d657475732069642076656c697420756c6c616d636f727065722070756c76696e61722e20467573636520616c697175616d20766573746962756c756d20697073756d2e20457469616d20626962656e64756d20656c6974206567657420657261742e20416c697175616d206572617420766f6c75747061742e20447569732070756c0a76696e61722e20457469616d206c6967756c6120706564652c20736167697474697320717569732c20696e74657264756d20756c747269636965732c207363656c657269737175652065752e205365642076656c206c65637475732e20446f6e650a63206f64696f2074656d707573206d6f6c65737469652c20706f720a0a747469746f722075742c20696163756c697320717569732c2073656d2e20496e74656765722070656c6c656e746573717565207175616d0a0a0a0a76656c2076656c69742e20467573636520647569206c656f2c20696d7065726469657420696e2c20616c697175616d2073697420616d65742c20666575676961742065752c206f7263692e0a6d6f64692074656d706f726120696e636964756e742075740a206c61626f726520657420646f6c6f7265206d61676e616d20616c697175616d207175616572617420766f6c7570746174656d2e20496e746567657220696e2073617069656e2e204e756c6c61206573742e2041656e65616e206665726d656e74756d20726973757320696420746f72746f722e204d617572697320646f6c6f722066656c69732c2073616769747469732061742c206c7563747573207365642c20616c697175616d206e6f6e2c2074656c6c75732e2046757363652074656c6c7573206f64696f2c2064617069627573206964206665726d656e74756d20717569732c20737573636970697420696420657261742e20437261732070656465206c696265726f2c2064617069627573206e65632c207072657469756d2073697420616d65742c2074656d706f7220717569732e2041656e65616e2076656c206d617373612071756973206d6175726973207665686963756c61206c6163696e69612e2043756d20736f63696973206e61746f7175652070656e617469627573206574206d61676e6973206469732070617274757269656e74206d6f6e7465732c206e61736365747572207269646963756c7573206d75732e2053656420636f6e76616c6c6973206d61676e612065752073656d2e20447569732076697665727261206469616d206e6f6e206a7573746f2e204d61757269732074696e636964756e742073656d2073656420617263752e20457469616d2071756973207175616d2e0a0a50726f696e20696e2074656c6c75732073697420616d6574206e696268206469676e697373696d20736167697474690a2e204e756c6c6120747572706973206d61676e612c206375727375732073697420616d65742c20737573636970697420612c20696e74657264756d2069642c2066656c69732e204e750a6c6c612071756973206469616d2e20457420686172756d2071756964656d20726572756d20666163696c6973206573742065742065787065646974612064697374696e6374696f2e20496e2073656d206a7573746f2c20636f6d6d6f646f2075742c0a73757363697069742061742c2070686172657472612076697461652c206f7263692e20416c697175616d206572617420766f6c75747061742e204e756c6c610a747572706973206d61676e612c206375727375732073697420616d65742c20737573636970697420612c20696e74657264756d2069642c2066656c69732e20496e20656e696d2061206172637520696d70657264696574206d616c6573756164612e20457469616d0a706f7375657265206c61637573207175697320646f6c6f722e20436c61737320617074656e742074616369746920736f63696f7371752061640a6c69746f726120746f727175656e742070657220636f6e75626961206e6f737472612c2070657220696e636570746f732068796d656e61656f732e204d616563656e617320736f6c6c696369747564696e2e20496e74656765722074656d706f722e2043750a6d20736f63696973206e61746f7175652070656e617469627573206574206d61676e6973206469732070617274757269656e74206d6f6e7465732c206e617363657475722072690a646963756c7573206d75732e0a";
        assertEquals(expected, out.toString());
    }

    @Test
    void loremIpsumFile_toBits() {
        Path inputFilePath = TEST_RESOURCES.resolve("loremIpsum.txt");
        ByteArrayOutputStream out = TestUtils.getOutput();
        String[] args = {"-f", "bytes", "-t", "bits", "--input=" + inputFilePath};
        try {
            main(args);
        } catch (Exception e) {
            assertFalse(false);
        }
        String expected = "0100110001101111011100100110010101101101001000000110100101110000011100110111010101101101001000000110010001101111011011000110111101110010001000000111001101101001011101000010000001100001011011010110010101110100001011000010000001100011011011110110111001110011011001010110001101110100011001010111010001110101011001010111001000100000011000010110010001101001011100000110100101110011011000110110100101101110011001110010000001100101011011000110100101110100001011100010000001001001011011100111010001100101011001110110010101110010001000000110100101101110001000000111001100001010011000010111000001101001011001010110111000101110001000000100000101101100011010010111000101110101011000010110110100100000011000010110111001110100011001010010111000100000010011100110010101101101011011110010000001100101011011100110100101101101001000000110100101110000011100110110000101101101001000000111011001101111011011000111010101110000011101000110000101110100011001010110110100100000011100010111010101101001011000010010000001110110011011110110110001110101011100000111010001100001011100110010000001110011011010010111010000100000011000010111001101110000011001010111001001101110011000010111010001110101011100100000101000100000011000010111010101110100001000000110111101100100000010100010000001101001011101000010000001100001011101010111010000100000011001100111010101100111011010010111010000101100001000000111001101100101011001000010000001110001011101010110100101100001001000000110001101101111011011100111001101100101011100010111010101110101011011100111010001110101011100100010000001101101011000010110011101101110011010010010000001100100011011110110110001101111011100100110010101110011001000000110010101101111011100110010000001110001011101010110100100100000011100100110000101110100011010010110111101101110011001010010000001110110011011110110110001110101011100000111010001100001011101000110010101101101001000000111001101100101011100010111010101101001001000000110111001100101011100110110001101101001011101010110111001110100001011100010000001010110011010010111011001100001011011010111010101110011001000000110000101100011001000000110110001100101011011110010000001110000011100100110010101110100011010010000101001110101011011010010000001100110011000010111010101100011011010010110001001110101011100110010111000100000010100000111001001101111011010010110111000100000011010010110111000100000011101000110010101101100011011000111010101110011001000000111001101101001011101000010000001100001011011010110010101110100001000000110111001101001011000100110100000100000011001000110100101100111011011100110100101110011011100110110100101101101001000000111001101100001011001110110100101110100011101000110100101110011001011100010000001010000011010000110000101110011011001010110110001101100011101010111001100100000011001010110111001101001011011010010000001100101011100100110000101110100001011000010000001110110011001010111001101110100011010010110001001110101011011000111010101101101001000000111011001100101011011000010110000100000011000010110110001101001011100010111010101100001011011010010000001100001001011000010000001110000011011110111001101110101011001010111001001100101001000000110010101110101001011000010000001110110011001010000101000001010011011000110100101110100001011100010000001000011011101010111001001100001011000100110100101110100011101010111001000100000011000100110100101100010011001010110111001100100011101010110110100100000011010100111010101110011011101000110111100100000011011100110111101101110001000000110111101110010011000110110100100101110001000000100000101101100011010010111000101110101011000010110110100100000011010010110010000100000011001000110111101101100011011110111001000101110001000000100100101101110001000000111001101100101011011010010000001101010011101010111001101110100011011110010110000100000011000110110111101101101011011010110111101100100011011110010000001110101011101000010110000100000011100110111010101110011011000110110100101110000011010010111010000001010001000000110000101110100001011000010000001110000011010000110000101110010011001010111010001110010011000010010000001110110011010010111010001100001011001010010110000100000011011110111001001100011011010010010111000100000010001100111010101110011011000110110010100100000011001000111010101101001001000000110110001100101011011110010110000100000011010010110110101110000011001010111001001100100011010010110010101110100001000000110100101101110001011000010000001100001011011000110100101110001011101010110000101101101001000000111001101101001011101000010000001100001011011010110010101110100001011000010000001100110011001010111010101100111011010010110000101110100001000000110010101110101001011000010000001101111011100100110001101101001001011100010000001000100011101010110100101110011000010100010000001100011011011110110111001100100011010010110110101100101011011100111010001110101011011010010000001100001011101010110011101110101011001010010000001101001011001000010000001101101011000010110011101101110011000010010000001110011011001010110110101110000011001010111001000100000011100100111010101110100011100100111010101101101001011100010000001001110011101010110111001100011001000000111010001101001011011100110001101101001011001000111010101101110011101000010000001100001011011100111010001100101001000000111011001101001011101000110000101100101001000000110110101100001011100110111001101100001001011100000101000100000001000000100011001110101011100110110001101100101001000000110111001101001011000100110100000101110001000000101011001101001011101100110000101101101011101010111001100100000011000010110001100100000011011000110010101101111001000000111000001110010011001010111010001101001011101010110110100100000011001100110000101110101011000110110100101100010011101010111001100101110001000000100010001101111011011100110010101100011001000000111011001101001011101000110000101100101001000000110000101110010011000110111010100101110000010100000101001001001011011100010000001100100011000010111000001101001011000100111010101110011001000000110000101110101011001110111010101100101001000000110111001101111011011100010000001110011011000010111000001101001011001010110111000101110001000000100100101101110011101000110010101100111011001010111001000100000011011000110000101100011011010010110111001101001011000010010111000100000010101010111010000100000011101000110010101101101011100000111010101110011001000000111000001110101011100100111010101110011001000000110000101110100001000000110110001101111011100100110010101101101001011100010000001001110011101010110110001101100011000010110110100100000011100110110000101110000011010010110010101101110001000000111001101100101011011010010110000100000011011110111001001101110011000010111001001100101001000000110000101100011001011000010000001101110011011110110111001110101011011010110110101111001001000000110111001101111011011100010110000100000011011000000101001101111011000100110111101110010011101000110100101110011001000000110000100100000011001010110111001101001011011010010111000100000010001000111010101101001011100110010000001100011011011110110111001100100011010010110110101100101011011100111010001110101011011010010000001100001011101010110011101110101011001010010000001101001011001000010000001101101011000010110011101101110011000010010000001110011011001010110110101110000011001010111001000100000011100100111010101110100011100100111010101101101001011100010000001000001011001010110111001100101011000010110111000100000011010010110010000001010011011010110010101110100011101010111001100100000011010010110010000100000011101100110010101101100011010010111010000100000011101010110110001101100011000010110110101100011011011110111001001110000011001010111001000100000011100000111010101101100011101100110100101101110011000010111001000101110001000000100011001110101011100110110001101100101001000000110000101101100011010010111000101110101011000010110110100100000011101100110010101110011011101000110100101100010011101010110110001110101011011010010000001101001011100000111001101110101011011010010111000100000010001010111010001101001011000010110110100100000011000100110100101100010011001010110111001100100011101010110110100100000011001010110110001101001011101000010000001100101011001110110010101110100001000000110010101110010011000010111010000101110001000000100000101101100011010010111000101110101011000010110110100100000011001010111001001100001011101000010000001110110011011110110110001110101011101000111000001100001011101000010111000100000010001000111010101101001011100110010000001110000011101010110110000001010011101100110100101101110011000010111001000101110001000000100010101110100011010010110000101101101001000000110110001101001011001110111010101101100011000010010000001110000011001010110010001100101001011000010000001110011011000010110011101101001011101000111010001101001011100110010000001110001011101010110100101110011001011000010000001101001011011100111010001100101011100100110010001110101011011010010000001110101011011000111010001110010011010010110001101101001011001010111001100101100001000000111001101100011011001010110110001100101011100100110100101110011011100010111010101100101001000000110010101110101001011100010000001010011011001010110010000100000011101100110010101101100001000000110110001100101011000110111010001110101011100110010111000100000010001000110111101101110011001010000101001100011001000000110111101100100011010010110111100100000011101000110010101101101011100000111010101110011001000000110110101101111011011000110010101110011011101000110100101100101001011000010000001110000011011110111001000001010000010100111010001110100011010010111010001101111011100100010000001110101011101000010110000100000011010010110000101100011011101010110110001101001011100110010000001110001011101010110100101110011001011000010000001110011011001010110110100101110001000000100100101101110011101000110010101100111011001010111001000100000011100000110010101101100011011000110010101101110011101000110010101110011011100010111010101100101001000000111000101110101011000010110110100001010000010100000101000001010011101100110010101101100001000000111011001100101011011000110100101110100001011100010000001000110011101010111001101100011011001010010000001100100011101010110100100100000011011000110010101101111001011000010000001101001011011010111000001100101011100100110010001101001011001010111010000100000011010010110111000101100001000000110000101101100011010010111000101110101011000010110110100100000011100110110100101110100001000000110000101101101011001010111010000101100001000000110011001100101011101010110011101101001011000010111010000100000011001010111010100101100001000000110111101110010011000110110100100101110000010100110110101101111011001000110100100100000011101000110010101101101011100000110111101110010011000010010000001101001011011100110001101101001011001000111010101101110011101000010000001110101011101000000101000100000011011000110000101100010011011110111001001100101001000000110010101110100001000000110010001101111011011000110111101110010011001010010000001101101011000010110011101101110011000010110110100100000011000010110110001101001011100010111010101100001011011010010000001110001011101010110000101100101011100100110000101110100001000000111011001101111011011000111010101110000011101000110000101110100011001010110110100101110001000000100100101101110011101000110010101100111011001010111001000100000011010010110111000100000011100110110000101110000011010010110010101101110001011100010000001001110011101010110110001101100011000010010000001100101011100110111010000101110001000000100000101100101011011100110010101100001011011100010000001100110011001010111001001101101011001010110111001110100011101010110110100100000011100100110100101110011011101010111001100100000011010010110010000100000011101000110111101110010011101000110111101110010001011100010000001001101011000010111010101110010011010010111001100100000011001000110111101101100011011110111001000100000011001100110010101101100011010010111001100101100001000000111001101100001011001110110100101110100011101000110100101110011001000000110000101110100001011000010000001101100011101010110001101110100011101010111001100100000011100110110010101100100001011000010000001100001011011000110100101110001011101010110000101101101001000000110111001101111011011100010110000100000011101000110010101101100011011000111010101110011001011100010000001000110011101010111001101100011011001010010000001110100011001010110110001101100011101010111001100100000011011110110010001101001011011110010110000100000011001000110000101110000011010010110001001110101011100110010000001101001011001000010000001100110011001010111001001101101011001010110111001110100011101010110110100100000011100010111010101101001011100110010110000100000011100110111010101110011011000110110100101110000011010010111010000100000011010010110010000100000011001010111001001100001011101000010111000100000010000110111001001100001011100110010000001110000011001010110010001100101001000000110110001101001011000100110010101110010011011110010110000100000011001000110000101110000011010010110001001110101011100110010000001101110011001010110001100101100001000000111000001110010011001010111010001101001011101010110110100100000011100110110100101110100001000000110000101101101011001010111010000101100001000000111010001100101011011010111000001101111011100100010000001110001011101010110100101110011001011100010000001000001011001010110111001100101011000010110111000100000011101100110010101101100001000000110110101100001011100110111001101100001001000000111000101110101011010010111001100100000011011010110000101110101011100100110100101110011001000000111011001100101011010000110100101100011011101010110110001100001001000000110110001100001011000110110100101101110011010010110000100101110001000000100001101110101011011010010000001110011011011110110001101101001011010010111001100100000011011100110000101110100011011110111000101110101011001010010000001110000011001010110111001100001011101000110100101100010011101010111001100100000011001010111010000100000011011010110000101100111011011100110100101110011001000000110010001101001011100110010000001110000011000010111001001110100011101010111001001101001011001010110111001110100001000000110110101101111011011100111010001100101011100110010110000100000011011100110000101110011011000110110010101110100011101010111001000100000011100100110100101100100011010010110001101110101011011000111010101110011001000000110110101110101011100110010111000100000010100110110010101100100001000000110001101101111011011100111011001100001011011000110110001101001011100110010000001101101011000010110011101101110011000010010000001100101011101010010000001110011011001010110110100101110001000000100010001110101011010010111001100100000011101100110100101110110011001010111001001110010011000010010000001100100011010010110000101101101001000000110111001101111011011100010000001101010011101010111001101110100011011110010111000100000010011010110000101110101011100100110100101110011001000000111010001101001011011100110001101101001011001000111010101101110011101000010000001110011011001010110110100100000011100110110010101100100001000000110000101110010011000110111010100101110001000000100010101110100011010010110000101101101001000000111000101110101011010010111001100100000011100010111010101100001011011010010111000001010000010100101000001110010011011110110100101101110001000000110100101101110001000000111010001100101011011000110110001110101011100110010000001110011011010010111010000100000011000010110110101100101011101000010000001101110011010010110001001101000001000000110010001101001011001110110111001101001011100110111001101101001011011010010000001110011011000010110011101101001011101000111010001101001000010100010111000100000010011100111010101101100011011000110000100100000011101000111010101110010011100000110100101110011001000000110110101100001011001110110111001100001001011000010000001100011011101010111001001110011011101010111001100100000011100110110100101110100001000000110000101101101011001010111010000101100001000000111001101110101011100110110001101101001011100000110100101110100001000000110000100101100001000000110100101101110011101000110010101110010011001000111010101101101001000000110100101100100001011000010000001100110011001010110110001101001011100110010111000100000010011100111010100001010011011000110110001100001001000000111000101110101011010010111001100100000011001000110100101100001011011010010111000100000010001010111010000100000011010000110000101110010011101010110110100100000011100010111010101101001011001000110010101101101001000000111001001100101011100100111010101101101001000000110011001100001011000110110100101101100011010010111001100100000011001010111001101110100001000000110010101110100001000000110010101111000011100000110010101100100011010010111010001100001001000000110010001101001011100110111010001101001011011100110001101110100011010010110111100101110001000000100100101101110001000000111001101100101011011010010000001101010011101010111001101110100011011110010110000100000011000110110111101101101011011010110111101100100011011110010000001110101011101000010110000001010011100110111010101110011011000110110100101110000011010010111010000100000011000010111010000101100001000000111000001101000011000010111001001100101011101000111001001100001001000000111011001101001011101000110000101100101001011000010000001101111011100100110001101101001001011100010000001000001011011000110100101110001011101010110000101101101001000000110010101110010011000010111010000100000011101100110111101101100011101010111010001110000011000010111010000101110001000000100111001110101011011000110110001100001000010100111010001110101011100100111000001101001011100110010000001101101011000010110011101101110011000010010110000100000011000110111010101110010011100110111010101110011001000000111001101101001011101000010000001100001011011010110010101110100001011000010000001110011011101010111001101100011011010010111000001101001011101000010000001100001001011000010000001101001011011100111010001100101011100100110010001110101011011010010000001101001011001000010110000100000011001100110010101101100011010010111001100101110001000000100100101101110001000000110010101101110011010010110110100100000011000010010000001100001011100100110001101110101001000000110100101101101011100000110010101110010011001000110100101100101011101000010000001101101011000010110110001100101011100110111010101100001011001000110000100101110001000000100010101110100011010010110000101101101000010100111000001101111011100110111010101100101011100100110010100100000011011000110000101100011011101010111001100100000011100010111010101101001011100110010000001100100011011110110110001101111011100100010111000100000010000110110110001100001011100110111001100100000011000010111000001110100011001010110111001110100001000000111010001100001011000110110100101110100011010010010000001110011011011110110001101101001011011110111001101110001011101010010000001100001011001000000101001101100011010010111010001101111011100100110000100100000011101000110111101110010011100010111010101100101011011100111010000100000011100000110010101110010001000000110001101101111011011100111010101100010011010010110000100100000011011100110111101110011011101000111001001100001001011000010000001110000011001010111001000100000011010010110111001100011011001010111000001110100011011110111001100100000011010000111100101101101011001010110111001100001011001010110111101110011001011100010000001001101011000010110010101100011011001010110111001100001011100110010000001110011011011110110110001101100011010010110001101101001011101000111010101100100011010010110111000101110001000000100100101101110011101000110010101100111011001010111001000100000011101000110010101101101011100000110111101110010001011100010000001000011011101010000101001101101001000000111001101101111011000110110100101101001011100110010000001101110011000010111010001101111011100010111010101100101001000000111000001100101011011100110000101110100011010010110001001110101011100110010000001100101011101000010000001101101011000010110011101101110011010010111001100100000011001000110100101110011001000000111000001100001011100100111010001110101011100100110100101100101011011100111010000100000011011010110111101101110011101000110010101110011001011000010000001101110011000010111001101100011011001010111010001110101011100100010000001110010011010010000101001100100011010010110001101110101011011000111010101110011001000000110110101110101011100110010111000001010";
        assertEquals(expected, out.toString());
    }
}
